{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../crud.service\";\nimport * as i2 from \"../auth-service.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../snackbar.service\";\nexport let TeammanagerComponent = /*#__PURE__*/(() => {\n  class TeammanagerComponent {\n    constructor(crud, auth, route, router, fb, _snackBar) {\n      this.crud = crud;\n      this.auth = auth;\n      this.route = route;\n      this.router = router;\n      this.fb = fb;\n      this._snackBar = _snackBar;\n      this.teamForm = fb.group({\n        Name: ['', Validators.required]\n      });\n    }\n    ngOnInit() {\n      this.route.queryParams.subscribe(params => {\n        this.tournamentId = params.tournament;\n        this.teamId = params.team;\n      });\n      this.crud.getTournamentDetail(this.tournamentId).subscribe(data => {\n        if (data.payload.exists) {\n          let f = {\n            id: data.payload.id,\n            name: data.payload.data()[\"name\"],\n            teams: data.payload.data()[\"teams\"],\n            matches: data.payload.data()[\"matches\"],\n            users: data.payload.data()[\"users\"],\n            type: data.payload.data()[\"type\"],\n            admin: data.payload.data()[\"admin\"],\n            brackets: data.payload.data()[\"brackets\"]\n          };\n          this.tournament = f;\n          this.team = this.tournament.teams.find(t => t.id == this.teamId);\n          this.teamId = this.team.id;\n          this.teamName = this.team.name;\n          var brackets = {\n            rounds: []\n          };\n          this.tournament.brackets = this.tournament.brackets == null ? brackets : this.tournament.brackets;\n        } else {\n          this.router.navigate(['/404']);\n        }\n      });\n    }\n    updateTeam() {\n      let updatedTeam = this.tournament.teams.find(t => t.id == this.teamId);\n      var i = this.tournament.teams.indexOf(updatedTeam);\n      this.tournament.teams[i].name = this.teamName;\n      this.crud.addInfoToTournament(this.tournament).then(resp => {\n        this._snackBar.show('⚽ Team update successfully.');\n      }).catch(error => {\n        this._snackBar.show('⚠️ Error: ' + error);\n      });\n      this.router.navigate(['tournament'], {\n        queryParams: {\n          id: this.tournament.id\n        }\n      });\n    }\n    static {\n      this.ɵfac = function TeammanagerComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TeammanagerComponent)(i0.ɵɵdirectiveInject(i1.CrudService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.FormBuilder), i0.ɵɵdirectiveInject(i5.PopupService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: TeammanagerComponent,\n        selectors: [[\"app-teammanager\"]],\n        decls: 11,\n        vars: 2,\n        consts: [[1, \"container\"], [2, \"width\", \"100%\", 3, \"formGroup\"], [1, \"form-row\", \"justify-content-center\"], [1, \"form-group\", \"col-lg-6\", \"col-md-6\", \"col-sm-12\", \"col-xs-12\"], [\"for\", \"inputAddress\"], [\"type\", \"text\", \"id\", \"inputAddress\", \"formControlName\", \"Name\", \"mdbInputDirective\", \"\", \"placeholder\", \"Foosball Champions\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"btn\", \"btn-dark\", 3, \"click\"]],\n        template: function TeammanagerComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"label\", 4);\n            i0.ɵɵtext(5, \"*Team name:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"input\", 5);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function TeammanagerComponent_Template_input_ngModelChange_6_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.teamName, $event) || (ctx.teamName = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(7, \"div\", 2)(8, \"div\", 3)(9, \"a\", 6);\n            i0.ɵɵlistener(\"click\", function TeammanagerComponent_Template_a_click_9_listener() {\n              return ctx.updateTeam();\n            });\n            i0.ɵɵtext(10, \"Update\");\n            i0.ɵɵelementEnd()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"formGroup\", ctx.teamForm);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.teamName);\n          }\n        },\n        encapsulation: 2\n      });\n    }\n  }\n  return TeammanagerComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}